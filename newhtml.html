<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Optimal Web : Contact Form With JS</title>
        <title>TODO supply a title</title>
                <style>
            body{
                background-color: pink;
            }
            *{
                box-sizing: border-box;
            }
                    ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #333;
}

li {
  float: right;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

    </style>
    </head>
    <body>
        <nav>
            <ul style="float:left">
                <li><a href="#GoogleMap"> GoogleMap</a></li>
            </ul>
            <ul>
                <li><a href="index.html"> Home</a></li>
                 <li><a href="newhtml.html"> Contact Us</a></li>
            
            </ul>
        </nav>
        
        <div style="width: 50%;max-width: 300px;max-height: 300px;box-shadow: 0px,0px,20px,white">
            
           </div>
        <!-- contact1 -->
  <section class="w3l-simple-contact-form1"style="padding-top:20px">
    <div class="contact-form section-gap">
      <div class="wrapper">
        <div class="text-center">
        </div>
        <div class="contact-form" style="max-width: 300px; margin: 0 auto;">
          <div class="form-mid" style="border:1px solid black">
              <form name="myform" action="javascript:sendmail()" method="post" onsubmit="return validateForm()">
              <div class="field">
                <input type="email" class="form-control" name="Sender" id="Sender" placeholder="Email"
                  required="">
              </div>
              <textarea name="Message" class="form-control" id="Message" placeholder="Message"
                required=""></textarea>
              <button type="submit" class="btn btn-contact">Send Message</button>
              <!-- <input type="button" class="btn btn-contact" onclick="sendmail();"  value="Send Message"> -->

            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- /contact1 -->
  
<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> -->
<script src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="https://smtpjs.com/v3/smtp.js"></script>
 
<script>  
    function validateForm() {
    var x = document.forms["myform"]["Sender"].value;
    if (x == "") {
        alert("Name must be filled out");
        return false;
  }
}

     function sendmail(){
    
			var name = $('#Name').val();
			var email = $('#Sender').val();
			var subject = $('#Subject').val();
      var message = $('#Message').val();

			// var body = $('#body').val();

			var Body='Name: '+name+'<br>Email: '+email+'<br>Subject: '+subject+'<br>Message: '+message;
			//console.log(name, phone, email, message);

			Email.send({
        SecureToken:"fbf31702-bb7f-4a4e-9c1c-4ccf17ee777f",
				To: 'optimalweb09@gmail.com',
				From: "demooptimalweb@gmail.com",
				Subject: "New message on contact from "+name,
				Body: Body
			}).then(
				message =>{
					//console.log (message);
					if(message=='OK'){
					alert('Your mail has been send. Thank you for connecting.');
					}
					else{
						console.error (message);
						alert('There is error at sending message. ')
						
					}

				}
			);



		}


    </script>
 </script>
    </body>
</html>
